<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-system-architecture/design">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Design | Project Tutraffic</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://Capstone-Projects-2023-Spring.github.io/project-tutraffic/docs/system-architecture/design"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Design | Project Tutraffic"><meta data-rh="true" name="description" content="Design Document - Par I Architecture"><meta data-rh="true" property="og:description" content="Design Document - Par I Architecture"><link data-rh="true" rel="icon" href="/project-tutraffic/img/icon.png"><link data-rh="true" rel="canonical" href="https://Capstone-Projects-2023-Spring.github.io/project-tutraffic/docs/system-architecture/design"><link data-rh="true" rel="alternate" href="https://Capstone-Projects-2023-Spring.github.io/project-tutraffic/docs/system-architecture/design" hreflang="en"><link data-rh="true" rel="alternate" href="https://Capstone-Projects-2023-Spring.github.io/project-tutraffic/docs/system-architecture/design" hreflang="x-default"><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script><link rel="stylesheet" href="/project-tutraffic/assets/css/styles.941c52d4.css">
<link rel="preload" href="/project-tutraffic/assets/js/runtime~main.63c9b1fa.js" as="script">
<link rel="preload" href="/project-tutraffic/assets/js/main.b1d43a67.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/project-tutraffic/"><div class="navbar__logo"><img src="/project-tutraffic/img/icon.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/project-tutraffic/img/icon.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Project Tutraffic</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/project-tutraffic/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/project-tutraffic/tutorial/Intro">Docusaurus Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Capstone-Projects-2023-Spring/project-tutraffic" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/project-tutraffic/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/project-tutraffic/docs/category/requirements-specification">Requirements Specification</a><button aria-label="Toggle the collapsible sidebar category &#x27;Requirements Specification&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/project-tutraffic/docs/category/software-development-plan">Software Development Plan</a><button aria-label="Toggle the collapsible sidebar category &#x27;Software Development Plan&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/project-tutraffic/docs/category/system-architecture">System Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;System Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/project-tutraffic/docs/system-architecture/design">Design</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/project-tutraffic/docs/category/api-specification">API Specification</a><button aria-label="Toggle the collapsible sidebar category &#x27;API Specification&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/project-tutraffic/docs/category/test-procedures">Test Procedures</a><button aria-label="Toggle the collapsible sidebar category &#x27;Test Procedures&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/project-tutraffic/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/project-tutraffic/docs/category/system-architecture"><span itemprop="name">System Architecture</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Design</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Design</h1><p><strong>Purpose</strong></p><p>The Design Document - Part I Architecture describes the software architecture and how the requirements are mapped into the design. This document will be a combination of diagrams and text that describes what the diagrams are showing.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="components">Components<a class="hash-link" href="#components" title="Direct link to heading">​</a></h3><p><strong>Client</strong></p><p><img loading="lazy" alt="Basic Wireframe" src="/project-tutraffic/assets/images/wireframe-05f5aa4ff2e47e89cae3ca7eca49b503.png" width="828" height="786" class="img_ev3q"></p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="figure-1---mobile-app-wireframe">Figure 1 - Mobile App Wireframe<a class="hash-link" href="#figure-1---mobile-app-wireframe" title="Direct link to heading">​</a></h5><p>Figure 1 shows a mockup wireframe of the TuTraffic mobile application.</p><ul><li>This is an android application that will require the use of 3 main pages with adjacent xml files and adapters for each view used. </li><li>The client will be connected to the server via built in functionality within android studio and google cloud. These classes are autogenerated by android studio and are shown as RegisterActivity and DeviceInfoEndpoint respectively. </li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="figure-21---frontend-application-class-diagram">Figure 2.1 - Frontend Application Class Diagram<a class="hash-link" href="#figure-21---frontend-application-class-diagram" title="Direct link to heading">​</a></h5><p>Figure 2.1 shows the class diagram of TuTraffic&#x27;s application and all the components that make up the frontend.</p><p><strong>Server</strong></p><p>The server will be hosted in Google Cloud with containers for the Customer database, and Parking database. </p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="figure-22---backend-flowchart">Figure 2.2 - Backend Flowchart<a class="hash-link" href="#figure-22---backend-flowchart" title="Direct link to heading">​</a></h5><p>Figure 2.2 illustrates the flow of components that make up the backend, highlighting the communcation between the server and the databases.</p><p><strong>Database</strong></p><ul><li>Uses Firebase to save customer information, location and availbe parking spots. </li><li>Customer table contains CustomerId as the primary key, customer&#x27;s email and password, and two foreign keys LocationId and ParkingSpotId. </li><li>Path from CustomerInfo to Location table has LocationId as the primary key and also the user&#x27;s longitude and latitude. </li><li>Path from CustomerInfo to ParkingSpot, which had spotLocationId as the primary key and also the parkings spot&#x27;s longitude, latitude, price and availability. </li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="figure-23---database-class-diagram">Figure 2.3 - Database Class Diagram<a class="hash-link" href="#figure-23---database-class-diagram" title="Direct link to heading">​</a></h5><p>Figure 2.3 shows the class diagram of the different data fields stored in the TuTraffic database.</p><p><strong>Raspberry Pi</strong></p><ul><li>A camera is attached to the Raspberry Pi that sends it images. The Pi runs code on itself to process the images then sends the gathered data to the server.</li><li>No images are sent to the server, only the data detected from them.</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="figure-24---raspberry-pi-class-diagram">Figure 2.4 - Raspberry Pi Class Diagram<a class="hash-link" href="#figure-24---raspberry-pi-class-diagram" title="Direct link to heading">​</a></h5><p>Figure 2.4 illustrates the class diagram of the code run on the Raspberry Pi after an image is sent to it from its camera.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sequence-diagrams">Sequence Diagrams<a class="hash-link" href="#sequence-diagrams" title="Direct link to heading">​</a></h3><p><strong>Use Case #1</strong>: A user knows their destination and wants to find a spot in its general vicinity.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Use Case 1 Description</summary><div><div class="collapsibleContent_i85q"><ol><li>Upon opening the TuTraffic application, the user opens the <em>parking options</em> page, a page that acts as the settings for the users parking preferences and needs.</li><li>In the <em>range</em> subsection of the parking options page, the user can adjust the range of how far they are willing to park in the area surrounding from their destination. </li><li>The user clicks <em>save</em> and exits the parking options page to return to the home screen.</li><li>On the home screen, the user can click the <em>search</em> button to enter the address of their destination.</li><li>The TuTraffic application displays a map of the detected spots in the saved range of the destination to the user&#x27;s device.</li></ol></div></div></details><br><br><p><strong>Use Case #2</strong>: A user wants to update their personal parking options to reflect how much they are willing to pay per hour for street parking.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Use Case 2 Description</summary><div><div class="collapsibleContent_i85q"><ol><li>The user logs into their account on the TuTraffic application.</li><li>The user opens parking options, where their saved preferences are stored.</li><li>In the <em>parking type</em> subsection of the parking options page, the user removes parking garages and paid lots from their preferred list.</li><li>In the <em>per hour</em> subsection of the parking options page, the user edits their accepted hourly price range, reflecting how much they are willing to pay per hour.</li><li>The user clicks <em>save</em> and exits the parking options page to return to the home screen, where only street parking that is less than or equal to their budget will appear on the map.</li></ol></div></div></details><br><br><p><strong>Use Case #3</strong>: A user wants to indicate their car size as to only be shown parking spaces that are likely to fit their car.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Use Case 3 Description</summary><div><div class="collapsibleContent_i85q"><ol><li>A logged in user opens the parking options page.</li><li>In the <em>car size</em> subsection of the parking options page, the user selects the option that best reflects the size of their car from a dropdown menu: small, medium, or large.</li><li>The user clicks <em>save</em>.</li><li>The TuTraffic application sends a message to the server to communicate the unique size need.</li><li>The server requests this information of parking spots of a particular size to the database.</li><li>The database, which continuously receives data from the Raspberry Pi node of parking spots and their location and size, sends the appropriate information back to the server.</li><li>Now, when the user searches for spots, only parking spots that have been detected to likely fit at least their size will appear. </li></ol></div></div></details><br><br><p><strong>Use Case #4</strong>: A user wants be directed to a parking spot after selecting it.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Use Case 4 Description</summary><div><div class="collapsibleContent_i85q"><ol><li>After opening the TuTraffic application, the user clicks the <em>search</em> button to find parking spots.</li><li>The user enters their destination&#x27;s address.</li><li>The TuTraffic application displays the detected spots to the user&#x27;s device.</li><li>After browsing, the user selects on a parking spot and clicks the <em>route</em> button.</li><li>The Google Maps API is loaded to direct the user to their destination.</li></ol></div></div></details><h3 class="anchor anchorWithStickyNavbar_LWe7" id="algorithms">Algorithms<a class="hash-link" href="#algorithms" title="Direct link to heading">​</a></h3><p><strong>Computer Vision</strong></p><p>The Raspberry Pi nodes utilized for this product are equipped with cameras that will take photos at fixed intervals in order to be sending up-to-date data to the server. To ensure real-time processing so users will not be presented with inaccurate information, the Raspberry Pi will take and process multiple images a minute. When a Raspberry Pi node takes a photo, the photo will be edited and processed through a computer vision algorithm hosted on the Raspberry Pi itself. Computer vision is a subfield of machine learning, meant to view images and replicate the human thought process to make a decision based on what it &quot;sees&quot;.</p><p>Currently, the computer vision aspect of TuTraffic is being developed with the detection algorithm YOLO. YOLO is a relatively fast object detection algorithm as it utilizes a one-stage detector strategy - this means as opposed to other much slower algorithms, YOLO looks at an image only once and goes through its entire network one time to determine if objects it has been trained to detect are present. YOLO is run on OpenCV, an open source computer vision/machine learning software library. One of the classes in YOLO&#x27;s detectable objects list are cars - car detection will be a necessary tool in detecting parking spots on streets.</p><p>TuTraffic detects both street parking and parking in traditional parking lots. YOLO&#x27;s car detection is the biggest component of street parking, while OpenCV&#x27;s built in line detection is the biggest component for parking spots in a parking lot. OpenCV has a fast line detection algorithm built into its library and does not require the use of any additional object detection algorithms. YOLO&#x27;s car detection and OpenCV&#x27;s line detection will work together to detect parking spots in both environments.  </p><p><img loading="lazy" alt="Computer vision diagram" src="/project-tutraffic/assets/images/computer_vision_diagram-f2ecfa228fcfcf45e2f5fa56f83b3b5e.png" width="1236" height="476" class="img_ev3q"></p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="figure-31---yolo-diagram">Figure 3.1 - YOLO diagram<a class="hash-link" href="#figure-31---yolo-diagram" title="Direct link to heading">​</a></h5><p>Figure 3.1 shows the process an image goes through and its output when ran through the YOLO object detection algorithm supported by OpenCV. The original image is first transformed into a blob format to be read by the network. YOLO then completes two steps - one surrounding the blob in boxes of different thickness to indicate confidence of an object being present, and the other adding a colored probability map over the image to indicate the objects the algorithm believes exists in those locations. The bounding boxes and probability map are combined to create the final image, boxes surrounding the detected objects with their label &amp; probability. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="state-diagrams">State Diagrams<a class="hash-link" href="#state-diagrams" title="Direct link to heading">​</a></h3><h5 class="anchor anchorWithStickyNavbar_LWe7" id="figure-41---client-state-diagram">Figure 4.1 - Client State Diagram<a class="hash-link" href="#figure-41---client-state-diagram" title="Direct link to heading">​</a></h5><p>Figure 4.1 shows the state diagram of the frontend application, describing the different behaviors of the TuTraffic application.</p><p>The TuTraffic client application experiences multiple states throughout its usage. As depicted in the figure above, its first state is Searching: in this state, the client displays a list of nearby parking spaces, which may be initially empty. The client enters the Viewing state after the user selects a parking location; they can return to the Searching state to view the other locations, or enter the Navigation state. In either the Searching or Viewing State, the client submits requests to the server, such as parking status updates or reservations, in the Requesting state before returning to the previous state. In the Navigation state, the client connects to a third party navigation service and receives real-time driving assistance to help them reach their selected parking location. After the client reaches their destination or ceases navigation, the application returns to the Viewing state.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="figure-42---server-state-diagram">Figure 4.2 - Server State Diagram<a class="hash-link" href="#figure-42---server-state-diagram" title="Direct link to heading">​</a></h5><p>Figure 4.2 shows the state diagram of the backend server, exhibiting the different modes the server may be acting in.</p><p>The figure above illustrates the server states of the TuTraffic system. The server starts in the Waiting state; it is idle while there are no jobs to complete. When it receives a request from a client or node, the server proceeds to the Handling state, in which it comprehends the request. Then, the server enters a Reading or Writing state to handle the reading or writing operations, respectively, that are necessary to fulfill the request. For example, a search query is primarily a reading operation, while a parking reservation request is primarily a writing operation. Finally, the server formulates a response, delivers the message in the Replying state, and returns to the Waiting state before the next job.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="figure-43---raspberry-pi-node-state-diagram">Figure 4.3 - Raspberry Pi Node State Diagram<a class="hash-link" href="#figure-43---raspberry-pi-node-state-diagram" title="Direct link to heading">​</a></h4><p>Figure 4.3 shows the state diagram of the Raspberry Pi node as it cycles through different behaviors.</p><p>Each Raspberry Pi node in the TuTraffic system begins in the Waiting state, as shown in the above state diagram. The node exits this Waiting state on a regular schedule or upon request, then enters the Capturing state, during which it records an image. The node proceeds to the Processing state, in which computer vision is used to produce a parking location update message. This update is pushed to the server during the Sending state, then the node resumes the Waiting state.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="database">Database<a class="hash-link" href="#database" title="Direct link to heading">​</a></h3><h5 class="anchor anchorWithStickyNavbar_LWe7" id="figure-51---database-entity-relation-diagram">Figure 5.1 - Database Entity-Relation Diagram<a class="hash-link" href="#figure-51---database-entity-relation-diagram" title="Direct link to heading">​</a></h5><p>Figure 5.1 shows the relationship between the different entities of TuTraffic&#x27;s database.</p><p><strong>Table Design</strong></p><ul><li>Customer Table: This table contain customer information including, email and password. The primary key is customerId. Contains 2 foreign keys locationId and spotID</li><li>Location Table: This table updates in realtime with users longitude and latitude. The primary key is locationId.</li><li>ParkingSpot Table: This table contains the parking spots location, availability and longitude and latitude. Primary key is the spotId</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Capstone-Projects-2023-Spring/project-tutraffic/edit/main/documentation/docs/system-architecture/design.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><details><summary>Revision History</summary><table><thead><tr><th scope="row">Author</th><th scope="row">Revision</th><th scope="row">Date</th></tr></thead><tbody>nothing</tbody></table></details><span class="theme-last-updated">Last updated<!-- --> by <b>IsaacFerguson</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/project-tutraffic/docs/category/system-architecture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">System Architecture</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/project-tutraffic/docs/category/api-specification"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">API Specification</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#components" class="table-of-contents__link toc-highlight">Components</a></li><li><a href="#sequence-diagrams" class="table-of-contents__link toc-highlight">Sequence Diagrams</a></li><li><a href="#algorithms" class="table-of-contents__link toc-highlight">Algorithms</a></li><li><a href="#state-diagrams" class="table-of-contents__link toc-highlight">State Diagrams</a></li><li><a href="#database" class="table-of-contents__link toc-highlight">Database</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/project-tutraffic/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Capstone-Projects-2023-Spring/project-tutraffic" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/project-tutraffic/img/icon.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/project-tutraffic/img/icon.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2023 Project Tutraffic, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/project-tutraffic/assets/js/runtime~main.63c9b1fa.js"></script>
<script src="/project-tutraffic/assets/js/main.b1d43a67.js"></script>
</body>
</html>